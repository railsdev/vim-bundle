if @product.present?
  json.response_code "200"
  json.response_message ""
  json.body {
    json.result "Success"
    if @product.class.to_s == "Product"
      #json.product_name @product.product_name_long
      #json.generic_name @product.generic_name
      json.product_image @product.try(:image_name).try(:file).try(:filename).nil? ? nil : "http://#{request.host}:#{request.port}/api/products/get_product_icon.json?image_name="+ @product.image_name.file.filename
      if @product.present?
        json.strength @product.strength if @product.strength.present? 
        json.fda_form @product.form_name if @product.present?
      end
      json.short_product_name @product.product_name_short
      json.ndc9 @product.ndc9
      #json.product_ingredients @product.product_ingredients.each do |ingredient|

      json.product_ingredients @product.ingredient_names.each do |ingredient|
      
          json.ingredient_name ingredient.IngredientName

      end

        #json.content "#{ingredient.ingeredient_name} #{ingredient.strength + ingredient.strength_unit}"
        #if ingredient.per_volume.nonzero?
          #json.content "#{ingredient.ingeredient_name} {ingredient.strength + ingredient.#strength_unit}/#{ingredient.per_volume}#{ingredient.per_volume_unit_code}"
        #else
          #json.content "#{ingredient.ingeredient_name} #{ingredient.strength + ingredient.strength_unit}"
        #end
      #end 
      json.product_details @patient_educations.map do |product|
        json.full_description product.descr
        json.possible_side_effect product.SIDE
        json.product_interaction product.inter
        json.contradictions product.contra
        json.administration product.admin
        json.missed product.missed
        json.monitor product.monitor
        json.storage product.store
      end if @patient_educations
    else
      json.product_name @product.product_name_short
      json.short_product_name @product.product_name_short
      #json.ndc9 @product.ndc9
      #json.fda_form_name @product.form_name
      #json.brand_name @product.branded_name_stub
      #json.strength @product.strength
      json.full_description @product.description
    end
    json.medication @medication
    json.reminder @reminder
    json.reminder_id @reminder_id
  }
else
  json.response_code "1000"
  json.response_message ""
  json.body {
    json.result "Failure"
  }
end
