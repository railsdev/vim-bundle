require 'test_helper'

class Api::MedicationsControllerTest < ActionController::TestCase

 # def setup
 # 	@consumer = Consumer.new(first_name: "Test", last_name: "User", email: "test@user.com", phone_number: "123456789", consumer_image: "")
 # end

  def test_add_my_med
    post :add_my_med, { consumer_id:1, drug_type:"Drug", drug_id:6, :format => :json }
    body = JSON.parse(response.body)
    # Rails.logger.ap "Body ==========="
    # Rails.logger.ap body
    JSON.parse(response.body)["status"] == "error"
    #body["id"].should == @company.id
    #assert_response :success
    assert true 
  end

  def test_get_my_med
   post :get_my_med, { consumer_id:1, :format =>:json }
   assert_response :success
  end

  def test_delete_my_med
   post :delete_my_med, { :format =>:json }
   assert_response :success
  end

end


	# http://dev.pillphone.com/api/medications/get_my_med.json?consumer_id=1
	# http://dev.pillphone.com/api/medications/get_drug_details.json?drug_type=Drug&drug_id=1

	# http://dev.pillphone.com/api/medications/add_my_med.json?consumer_id=8&drug_type=Drug&drug_id=6
	# http://dev.pillphone.com/api/medications/add_my_med.json?consumer_id=6&drug_type=ConsumerCustomDrug&name=Honey&description=For cold

	# http://dev.pillphone.com/api/medications/delete_my_med.json?consumer_medication_id=25
